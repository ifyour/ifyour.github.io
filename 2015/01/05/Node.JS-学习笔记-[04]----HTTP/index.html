<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="theme-color" content="#ffffff"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Ifyour's Blog"><meta name="msapplication-TileImage" content="/img/webAppIcon-256x256.png"><meta name="msapplication-TileColor" content="#000"><meta property="algolia:search" data-application-id="3XQ5CPDDMK" data-api-key="abe9e26eebcac723f34ade5cf6b97441" data-index-name="prod_blog"><title>Node.JS å­¦ä¹ ç¬”è®° [04] -- HTTP Â· Ifyour's Blog</title><meta name="description" content="Node.JS å­¦ä¹ ç¬”è®° [04] -- HTTP - Ifyour"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="manifest" href="/manifest.json"><link rel="icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="apple-touch-icon" size="256x256" href="/img/webAppIcon-256x256.png"><link rel="apple-touch-icon" size="512x512" href="/img/webAppIcon-512x512.png"><link rel="apple-touch-startup-image" href="/img/apple-launch-750x1334.png"><link rel="preload" href="/css/apollo.css" as="style"><link rel="preload" href="/js/main.js" as="script"><link rel="search" type="application/opensearchdescription+xml" href="http://ifyour.github.io/atom.xml" title="Ifyour's Blog"></head><body><div class="search"><a href="javascript:;" target="_self" class="close"><svg id="icon-close" viewbox="0 0 16 16" width="24" height="24" fill="#A4A9AC"><path d="M8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 Z M10.44352,10.7233105 L10.4528296,10.7326201 L10.7326201,10.4528296 C11.0310632,10.1543865 11.0314986,9.66985171 10.7335912,9.37194437 L9.36507937,8.0034325 L10.7360526,6.63245928 C11.0344957,6.33401613 11.0349311,5.84948135 10.7370237,5.55157401 L10.448426,5.26297627 C10.1505186,4.96506892 9.66598387,4.96550426 9.36754072,5.26394741 L8.00589385,6.62559428 L6.63738198,5.25708241 C6.33947464,4.95917507 5.85493986,4.95961041 5.55649671,5.25805356 L5.26737991,5.54717036 C4.96893676,5.84561351 4.96850142,6.33014829 5.26640876,6.62805563 L6.62561103,7.9872579 L5.25463781,9.35823112 C4.95619466,9.65667427 4.95575932,10.141209 5.25366666,10.4391164 L5.5422644,10.7277141 C5.84017175,11.0256215 6.32470652,11.0251861 6.62314967,10.726743 L7.99412289,9.35576976 L9.36263476,10.7242816 C9.66054211,11.022189 10.1450769,11.0217536 10.44352,10.7233105 Z"/></svg></a><div class="container"><input id="search-input" autocomplete="off" type="text" placeholder="Type to search" class="search-input"><div class="search-by">Search by<a href="https://www.algolia.com/" target="_blank"> algolia</a></div><div class="search-results"><div id="search-articles" class="search-item"></div></div></div><script id="search-tmp" type="text/html">{{if list.length}}
    <h3>ARTICLES</h3>
    <ul>
        {{each list item}}
        <li>
            <div class="search-item-title">
                <a href="{{item.permalink}}">{{@item.title}}</a>
            </div>
            <div class="search-item-summary" style="-webkit-box-orient: vertical;">
                {{@item.summary}}
            </div>
        </li>
        {{/each}}
    </ul>
{{else if list}}
    <h2>
        Oops! no result,
        Try it on <a target="_blank" style="color: #2c3e50; border-bottom: 2px solid #42b983; font-size: 19px;" href="https://www.google.com/search?q=site%3Aifyour.github.io+{{keywords}}">Google: {{keywords}}</a>~ ğŸ˜±
    </h2>
{{/if}}</script></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/docs/" target="_self" class="nav-list-link">DOCS</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="javascript:;" target="_self" id="search" class="nav-list-link">SEARCH</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Node.JS å­¦ä¹ ç¬”è®° [04] -- HTTP</h1><div class="post-info">Jan 5, 2015</div><div class="sidebar-toc"><span>Catalog</span><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP"><span class="toc-text">HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-åè®®"><span class="toc-text">HTTP åè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Node-js-æ­å»º-http-æœåŠ¡å™¨"><span class="toc-text">Node.js æ­å»º http æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-å“åº”å†…å®¹"><span class="toc-text">HTTP å“åº”å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-å“åº”çŠ¶æ€ç "><span class="toc-text">HTTP å“åº”çŠ¶æ€ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-å“åº”ä¸åŒçš„æ•°æ®ç±»å‹"><span class="toc-text">HTTP å“åº”ä¸åŒçš„æ•°æ®ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-å®¢æˆ·ç«¯æ•°æ®ä¼ é€’"><span class="toc-text">Web å®¢æˆ·ç«¯æ•°æ®ä¼ é€’</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#é€šè¿‡-URL-ä¼ é€’"><span class="toc-text">é€šè¿‡ URL ä¼ é€’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#é€šè¿‡è¡¨å•ä¼ é€’"><span class="toc-text">é€šè¿‡è¡¨å•ä¼ é€’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ•°æ®ç±»å‹"><span class="toc-text">æ•°æ®ç±»å‹</span></a></li></ol></li></ol></div><div class="post-content"><p>æœ¬æ¬¡çš„å­¦ä¹ å†…å®¹æ˜¯ Node.js Web æ¨¡å—ï¼Œä»‹ç»äº†ä»€ä¹ˆæ˜¯ web æœåŠ¡å™¨ï¼Œä»¥åŠå¸¸è§çš„å‡ ç§æ¨¡å¼ï¼Œæ¯”å¦‚ B/S æ¨¡å¼ï¼ˆBrowser/Serverï¼Œæµè§ˆå™¨/æœåŠ¡å™¨æ¨¡å¼ï¼‰ï¼ŒC/S æ¨¡å¼ï¼ˆClient/Serverï¼Œå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ï¼‰ç­‰ã€‚Web å®¢æˆ·ç«¯é€šè¿‡ä½¿ç”¨ HTTP åè®®å°±èƒ½è®¿é—®åˆ° Web æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼ŒWeb æœåŠ¡å™¨å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚<br><a id="more"></a></p>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><h4 id="HTTP-åè®®"><a href="#HTTP-åè®®" class="headerlink" title="HTTP åè®®"></a>HTTP åè®®</h4><p><strong><em>HTTP</em></strong>  åè®®æ˜¯ Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™,æ˜¯ç”¨äºä»ä¸‡ç»´ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚ç”¨äºå®šä¹‰ Web æµè§ˆå™¨ä¸ Web æœåŠ¡å™¨ä¹‹é—´äº¤æ¢æ•°æ®çš„è¿‡ç¨‹ä»¥åŠæ•°æ®æœ¬èº«çš„æ ¼å¼ã€‚</p>
<p>ç®€å•ç†è§£å…¶å®å°±æ˜¯ä¸€ç§è§„èŒƒï¼Œä»¥ä½•ç§æ–¹å¼è¯·æ±‚ï¼Œä»¥ä½•ç§æ–¹å¼åº”ç­”ã€‚ç‰¹ç‚¹å˜›ï¼Œ<strong><em>ä¸€æ¬¡è¯·æ±‚ï¼ˆRequestï¼‰å¯¹åº”ä¸€æ¬¡å“åº”ï¼ˆResponseï¼‰</em></strong>ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œè®¿é—® Google é¦–é¡µçš„è¯·æ±‚å’Œåº”ç­”ã€‚<br><img src="http://ww3.sinaimg.cn/large/6057861cgw1fbb9dlv1ylj20xy0ts7ct.jpg" alt></p>
<p>åœ¨ç¬¬ä¸€æ  General ä¸­å¯ä»¥çœ‹åˆ°æœ¬æ¬¡çš„è¯·æ±‚ç›®æ ‡ï¼Œæ¥è§£é‡Šä¸€ä¸‹è¿™å‡ ä¸ªå‚æ•°ä»£è¡¨å•¥æ„æ€ã€‚</p>
<ul>
<li>Request URL:<a href="https://www.google.com/" target="_blank" rel="noopener">https://www.google.com/</a>  è¯·æ±‚çš„ URLï¼Œè¿™é‡Œæˆ‘ä»¬è®¿é—®çš„æ˜¯ Google é¦–é¡µã€‚</li>
<li>Request Method:GET è¯·æ±‚æ–¹å¼ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯ GET æ–¹å¼è¯·æ±‚ã€‚</li>
<li>Status Code:200  çŠ¶æ€ç  200 ï¼Œè¡¨ç¤º OKã€‚</li>
<li>Remote Address:127.0.0.1:1080 è¿™é‡Œè¡¨ç¤ºè¯·æ±‚çš„è¿œç«¯ IP åœ°å€åŠç«¯å£ï¼Œå› ä¸ºæˆ‘æ˜¯ç§‘å­¦ä¸Šç½‘ï¼Œè¿™é‡Œæ‰æ˜¾ç¤ºäº†ä¸€ä¸ªå›è·¯åœ°å€ã€‚</li>
</ul>
<h4 id="Node-js-æ­å»º-http-æœåŠ¡å™¨"><a href="#Node-js-æ­å»º-http-æœåŠ¡å™¨" class="headerlink" title="Node.js æ­å»º http æœåŠ¡å™¨"></a>Node.js æ­å»º http æœåŠ¡å™¨</h4><p>Node.js æä¾›äº† http æ¨¡å—ï¼Œä½¿ç”¨ HTTP æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯åŠŸèƒ½å¿…é¡»è°ƒç”¨ http æ¨¡å—ï¼ŒNode.js æ­å»ºä¸€ä¸ª http æœåŠ¡å™¨éå¸¸ç®€å•ï¼Œåªéœ€è¦å‡ è¡Œä»£ç ï¼Œæ¥çœ‹çœ‹æŠŠã€‚:P<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ http æ¨¡å—</span></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæœåŠ¡ï¼Œå›è°ƒå‡½æ•°å¤„ç†è¯·æ±‚ï¼ˆRequestï¼‰å’Œå“åº”ï¼ˆResponseï¼‰ï¼Œç›‘å¬8080ç«¯å£</span></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.write(<span class="string">'hello,world!'</span>);</span><br><span class="line">    res.end();</span><br><span class="line">&#125;).listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8080/'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> å°±å¯ä»¥çœ‹åˆ°åˆšåˆšåˆ›å»ºçš„æœåŠ¡æˆåŠŸå•¦ã€‚<br><img src="http://ww4.sinaimg.cn/large/6057861cgw1fbbabbplavj20tg08mmyp.jpg" alt></p>
<h4 id="HTTP-å“åº”å†…å®¹"><a href="#HTTP-å“åº”å†…å®¹" class="headerlink" title="HTTP å“åº”å†…å®¹"></a>HTTP å“åº”å†…å®¹</h4><p>é—®é¢˜æ¥äº†ï¼Œé‚£ä¹ˆå¦‚ä½•æ ¹æ®ä¸åŒçš„ URL æ¥å“åº”ä¸åŒçš„å†…å®¹å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œhttp æœåŠ¡å™¨åœ¨å¤„ç† URL çš„æ—¶å€™ï¼Œä¼šæ ¹æ® URL çš„å‚æ•°æ¥åˆ†è¾¨ä¸åŒçš„è¯·æ±‚å†…å®¹ï¼Œæ ¹æ®è¯·æ±‚çš„å†…å®¹æ¥å“åº”ä¸ä¹‹å¯¹åº”çš„å†…å®¹ã€‚ä¸€ä¸ªå®Œæ•´çš„ URL é•¿è¿™ä¸ªæ ·å­ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme://host.domain:port/path/filename?queryName=queryValue</span><br></pre></td></tr></table></figure></p>
<ul>
<li>schemeï¼šå®šä¹‰æœåŠ¡ç±»å‹ï¼Œå¸¸è§çš„å¦‚ http</li>
<li>hostï¼šå®šä¹‰åŸŸä¸»æœºï¼Œhttp é€šå¸¸æ˜¯ www</li>
<li>domainï¼šå®šä¹‰åŸŸåï¼Œæ¯”å¦‚ google.com</li>
<li>:portï¼šå®šä¹‰ä¸»æœºçš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯ 80</li>
<li>pathï¼šå®šä¹‰è·¯å¾„ï¼Œçœç•¥ <code>/</code> è¡¨ç¤ºæ ¹ç›®å½•</li>
<li>filenameï¼šå®šä¹‰æ–‡ä»¶å</li>
<li>?queryName=queryValueï¼šæŸ¥è¯¢å­—ç¬¦ä¸²</li>
</ul>
<p>å¯ä»¥çœ‹å‡ºï¼Œæƒ³è¦å“åº”ä¸åŒçš„å†…å®¹ï¼Œå°±éœ€è¦åˆ†æå‡º URL ä¸­çš„ <code>path</code> å’Œ <code>filename</code> ä»¥åŠå¯¹åº”çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚æ¥çœ‹ä¸ªç®€å•çš„ä¾‹å­ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);<span class="comment">// å¼•å…¥ url æ¨¡å—ç”¨äºå¤„ç†åœ°å€</span></span><br><span class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>); <span class="comment">// å¼•å…¥ querystring æ¨¡å—</span></span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–é¡µ</span></span><br><span class="line">    <span class="keyword">var</span> path = url.parse(req.url).pathname;</span><br><span class="line">    <span class="keyword">if</span> (path == <span class="string">'/'</span>) &#123;</span><br><span class="line">        fs.readFile(<span class="string">'./html/index.html'</span>, <span class="string">'utf-8'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">                res.write(result);</span><br><span class="line">                res.end();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç™»å½•</span></span><br><span class="line">    <span class="keyword">if</span> (path == <span class="string">'/login'</span>)&#123;</span><br><span class="line">        <span class="comment">//&#123;...&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç™»å½•éªŒè¯</span></span><br><span class="line">    <span class="keyword">if</span> (path == <span class="string">'/checkLogin'</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> queryObj = querystring.parse(url.parse(req.url).query);</span><br><span class="line">        <span class="comment">// querystring.parse() æŠŠæŸ¥è¯¢å­—ç¬¦ä¸²è½¬æˆå¯¹è±¡ï¼Œ&#123; usr: 'admin', pwd: '123' &#125;</span></span><br><span class="line">        <span class="keyword">if</span> (queryObj.usr == <span class="string">'admin'</span> &amp;&amp; queryObj.pwd == <span class="string">'123'</span>) &#123;</span><br><span class="line">            res.write(<span class="string">'Login Success!'</span>);</span><br><span class="line">            res.end();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8080/'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="HTTP-å“åº”çŠ¶æ€ç "><a href="#HTTP-å“åº”çŠ¶æ€ç " class="headerlink" title="HTTP å“åº”çŠ¶æ€ç "></a>HTTP å“åº”çŠ¶æ€ç </h4><p>HTTP çŠ¶æ€ç ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹ï¼Œåä¸¤ä¸ªæ•°å­—æ²¡æœ‰åˆ†ç±»çš„ä½œç”¨ã€‚HTTP çŠ¶æ€ç å…±åˆ†ä¸º 5 ç§ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">åˆ†ç±»</th>
<th style="text-align:left">åˆ†ç±»æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1**</td>
<td style="text-align:left">ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</td>
</tr>
<tr>
<td style="text-align:left">2**</td>
<td style="text-align:left">æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†</td>
</tr>
<tr>
<td style="text-align:left">3**</td>
<td style="text-align:left">é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</td>
</tr>
<tr>
<td style="text-align:left">4**</td>
<td style="text-align:left">å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚</td>
</tr>
<tr>
<td style="text-align:left">5**</td>
<td style="text-align:left">æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯</td>
</tr>
</tbody>
</table>
<p>éœ€è¦è®°ä½å¸¸è§çš„å‡ ç§å°±å¯ä»¥äº†ï¼Œå¦å¤–çš„å¯ä»¥<a href="http://tools.jb51.net/table/http_status_code" target="_blank" rel="noopener">æŸ¥æ‰‹å†Œ</a>æ‰¾åˆ°éå¸¸è¯¦ç»†çš„è§£é‡Šã€‚</p>
<ul>
<li>200    OK    è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äº GET ä¸ POST è¯·æ±‚ã€‚</li>
<li>304    Not Modified    æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚</li>
<li>404    Not Found    æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚</li>
<li>500    Internal Server Error    æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚</li>
</ul>
<h4 id="HTTP-å“åº”ä¸åŒçš„æ•°æ®ç±»å‹"><a href="#HTTP-å“åº”ä¸åŒçš„æ•°æ®ç±»å‹" class="headerlink" title="HTTP å“åº”ä¸åŒçš„æ•°æ®ç±»å‹"></a>HTTP å“åº”ä¸åŒçš„æ•°æ®ç±»å‹</h4><p>æœåŠ¡å™¨å…·æœ‰è¿”å›å„ç§æ•°æ®çš„èƒ½åŠ›ï¼Œä½†æ˜¯è¿”å›æ•°æ®æ—¶ï¼Œåº”å‘Šè¯‰æµè§ˆå™¨è¿”å›çš„æ˜¯ä¸€ä¸ªä»€ä¹ˆæ–‡ä»¶ã€‚é€šè¿‡ <code>Content-Type</code> å¯ä»¥è®¾ç½®ï¼Œå“åº”çš„æ•°æ®ç±»å‹ã€‚æ¥çœ‹ä¸ªç®€å•çš„ä¾‹å­ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çš„çŠ¶æ€ç ï¼Œæ•°æ®ç±»å‹</span></span><br><span class="line">    res.writeHeader(<span class="string">'200'</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'image/png;charset=utf-8'</span>&#125;);</span><br><span class="line">    fs.readFile(<span class="string">'./hello.png'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">            res.write(result);</span><br><span class="line">            res.end();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8080/'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥é€šè¿‡ <a href="https://github.com/broofa/node-mime" target="_blank" rel="noopener">node-mime</a> æ¥æŸ¥è¯¢å„ç§æ–‡ä»¶çš„æ•°æ®ç±»å‹ã€‚å…ˆç”¨ npm å®‰è£…ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mime --save</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mime = <span class="built_in">require</span>(<span class="string">'mime'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mime.lookup(<span class="string">'test.txt'</span>));   <span class="comment">// text/plain</span></span><br><span class="line"><span class="built_in">console</span>.log(mime.lookup(<span class="string">'test.html'</span>));  <span class="comment">// text/html</span></span><br><span class="line"><span class="built_in">console</span>.log(mime.lookup(<span class="string">'test.css'</span>));   <span class="comment">// text/css</span></span><br><span class="line"><span class="built_in">console</span>.log(mime.lookup(<span class="string">'test.js'</span>));    <span class="comment">// application/javascript</span></span><br><span class="line"><span class="built_in">console</span>.log(mime.lookup(<span class="string">'test.mp3'</span>));   <span class="comment">// audio/mpeg</span></span><br></pre></td></tr></table></figure>
<h3 id="Web-å®¢æˆ·ç«¯æ•°æ®ä¼ é€’"><a href="#Web-å®¢æˆ·ç«¯æ•°æ®ä¼ é€’" class="headerlink" title="Web å®¢æˆ·ç«¯æ•°æ®ä¼ é€’"></a>Web å®¢æˆ·ç«¯æ•°æ®ä¼ é€’</h3><h4 id="é€šè¿‡-URL-ä¼ é€’"><a href="#é€šè¿‡-URL-ä¼ é€’" class="headerlink" title="é€šè¿‡ URL ä¼ é€’"></a>é€šè¿‡ URL ä¼ é€’</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme://host.domain:port/path/filename?queryName=queryValue</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ <code>?queryName=queryValue</code> å°±æ˜¯é€šè¿‡ URL ä¼ é€’çš„æ•°æ®ï¼Œä¸¾ä¸ªä¾‹å­ï¼š<code>?usr=admin&amp;pwd=123</code> å°±è¡¨ç¤ºä¼ é€’ä¸€ä¸ª <code>usr</code> ä¸º <code>admin</code> ï¼Œ<code>pwd</code> ä¸º <code>123</code> çš„æ•°æ®åˆ°åå°ã€‚</p>
<h4 id="é€šè¿‡è¡¨å•ä¼ é€’"><a href="#é€šè¿‡è¡¨å•ä¼ é€’" class="headerlink" title="é€šè¿‡è¡¨å•ä¼ é€’"></a>é€šè¿‡è¡¨å•ä¼ é€’</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    å¯† ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>actionï¼šæäº¤åˆ°æœåŠ¡å™¨å¤„ç†ç¨‹åºçš„ url åœ°å€</li>
<li>methodï¼šæäº¤æ–¹å¼æœ‰ <code>GET</code> å’Œ <code>POST</code></li>
<li>GETï¼šä¼šæŠŠè¡¨å•æ•°æ®ä½œä¸º URL çš„ä¸€éƒ¨åˆ†æ˜¾ç¤ºåœ¨åœ°å€æ ä¸­ï¼ŒURL é•¿åº¦æœ‰é™åˆ¶ä¸èƒ½æäº¤å¤§é‡æ•°æ®</li>
<li>POSTï¼šä¼šæŠŠè¡¨å•æ•°æ®æ”¾åˆ° HTTP è¯·æ±‚ä½“ä¸­ï¼Œç›¸å¯¹å®‰å…¨ï¼Œè€Œä¸”å¯ä»¥æäº¤å¤§é‡æ•°æ®ï¼ˆæ¯”å¦‚æ–‡ä»¶ï¼‰</li>
</ul>
<h4 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h4><p>å‰é¢è®²äº†ï¼Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œè¿”å›ç»™æµè§ˆå™¨æ•°æ®æ—¶ï¼Œä¼šé€šè¿‡ <code>Content-Type</code> æŒ‡å®šæ•°æ®ç±»å‹ï¼ŒåŒæ ·çš„ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨ä¼ é€’æ•°æ®æ—¶ï¼Œä¹Ÿéœ€è¦æŒ‡å®šæ•°æ®ç±»å‹ã€‚åœ¨è¿™ä¸¤ç§æ•°æ®ä¼ é€’æ–¹å¼ä¸­ï¼Œè¡¨å•ä¼ é€’æ•°æ®æ—¶ï¼Œ<code>POST</code> æ–¹å¼ï¼Œå¿…é¡»æŒ‡å®šæ•°æ®ç±»å‹ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"ä¸Šä¼ "</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><code>enctype</code> æŒ‡å®š POST çš„æ•°æ®ç±»å‹ï¼Œé»˜è®¤æ˜¯ <code>application/x-www-form-urlencoded</code>ï¼Œä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå°±éœ€è¦ <code>multipart/form-data</code> ç±»å‹äº†ã€‚</p>
</div></article></div></main><footer><div class="paginator"><a href="/2015/01/06/Node.JS-å­¦ä¹ ç¬”è®°-[05]----Express/" class="prev">PREV</a><a href="/2015/01/04/Node.JS-å­¦ä¹ ç¬”è®°-[03]----Buffer-fs-path/" class="next">NEXT</a></div><div class="copyright"><p>Â© 2015 - 2019 Made with <span>â¤</span> by <a href="https://github.com/ifyour/ifyour.github.io">Ifyour</a></p><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div><script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.4.0/lib/darkmode-js.min.js"></script><script>new Darkmode({
    bottom: '1rem',
    right: '1rem',
    left: 'unset',
    time: '0.5s',
    mixColor: '#fff',
    backgroundColor: '#fff',
    buttonColorDark: '#100f2c',
    buttonColorLight: '#fff',
    saveInCookies: true,
    label: 'ğŸŒ“',
    autoMatchOsTheme: true
}).showWidget();
</script><script src="/js/algoliasearch.min.js"></script><script src="/js/template-web.min.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/medium-zoom@0/dist/medium-zoom.min.js"></script><script>mediumZoom('article img', {margin: 24});
(function(win, targetElem) {
    if (!targetElem) return;
    win.onscroll = (function() {
        if (isElementInViewport(targetElem)) {
            win.onscroll = null;
            return mediumZoom('.gitment-comment-main img', {margin: 24});
        }
        return arguments.callee;
    })();
    function isElementInViewport(el) {
        var rect = el.getBoundingClientRect();
        var winH = win.innerHeight || document.documentElement.clientHeight;
        return rect.top <= winH && rect.bottom >= winH;
    };
})(this, document.querySelector('#gc_container'));
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-120929321-1",'auto');ga('send','pageview');</script></footer></div><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>