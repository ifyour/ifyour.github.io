(function(o){if(o.fetch){return}var l={searchParams:"URLSearchParams" in o,iterable:"Symbol" in o&&"iterator" in Symbol,blob:"FileReader" in o&&"Blob" in o&&(function(){try{new Blob();return true}catch(x){return false}})(),formData:"FormData" in o,arrayBuffer:"ArrayBuffer" in o};if(l.arrayBuffer){var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var s=function(x){return x&&DataView.prototype.isPrototypeOf(x)};var b=ArrayBuffer.isView||function(x){return x&&m.indexOf(Object.prototype.toString.call(x))>-1}}function i(x){if(typeof x!=="string"){x=String(x)}if(/[^a-z0-9-#$%&'*+.^_`|~]/i.test(x)){throw new TypeError("Invalid character in header field name")}return x.toLowerCase()}function j(x){if(typeof x!=="string"){x=String(x)}return x}function e(x){var y={next:function(){var z=x.shift();return{done:z===undefined,value:z}}};if(l.iterable){y[Symbol.iterator]=function(){return y}}return y}function p(x){this.map={};if(x instanceof p){x.forEach(function(z,y){this.append(y,z)},this)}else{if(Array.isArray(x)){x.forEach(function(y){this.append(y[0],y[1])},this)}else{if(x){Object.getOwnPropertyNames(x).forEach(function(y){this.append(y,x[y])},this)}}}}p.prototype.append=function(y,z){y=i(y);z=j(z);var x=this.map[y];this.map[y]=x?x+","+z:z};p.prototype["delete"]=function(x){delete this.map[i(x)]};p.prototype.get=function(x){x=i(x);return this.has(x)?this.map[x]:null};p.prototype.has=function(x){return this.map.hasOwnProperty(i(x))};p.prototype.set=function(x,y){this.map[i(x)]=j(y)};p.prototype.forEach=function(z,x){for(var y in this.map){if(this.map.hasOwnProperty(y)){z.call(x,this.map[y],y,this)}}};p.prototype.keys=function(){var x=[];this.forEach(function(z,y){x.push(y)});return e(x)};p.prototype.values=function(){var x=[];this.forEach(function(y){x.push(y)});return e(x)};p.prototype.entries=function(){var x=[];this.forEach(function(z,y){x.push([y,z])});return e(x)};if(l.iterable){p.prototype[Symbol.iterator]=p.prototype.entries}function f(x){if(x.bodyUsed){return Promise.reject(new TypeError("Already read"))}x.bodyUsed=true}function h(x){return new Promise(function(z,y){x.onload=function(){z(x.result)};x.onerror=function(){y(x.error)}})}function c(y){var x=new FileReader();var z=h(x);x.readAsArrayBuffer(y);return z}function d(y){var x=new FileReader();var z=h(x);x.readAsText(y);return z}function u(y){var x=new Uint8Array(y);var A=new Array(x.length);for(var z=0;z<x.length;z++){A[z]=String.fromCharCode(x[z])}return A.join("")}function k(y){if(y.slice){return y.slice(0)}else{var x=new Uint8Array(y.byteLength);x.set(new Uint8Array(y));return x.buffer}}function q(){this.bodyUsed=false;this._initBody=function(x){this._bodyInit=x;if(!x){this._bodyText=""}else{if(typeof x==="string"){this._bodyText=x}else{if(l.blob&&Blob.prototype.isPrototypeOf(x)){this._bodyBlob=x}else{if(l.formData&&FormData.prototype.isPrototypeOf(x)){this._bodyFormData=x}else{if(l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)){this._bodyText=x.toString()}else{if(l.arrayBuffer&&l.blob&&s(x)){this._bodyArrayBuffer=k(x.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||b(x))){this._bodyArrayBuffer=k(x)}else{throw new Error("unsupported BodyInit type")}}}}}}}if(!this.headers.get("content-type")){if(typeof x==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else{if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else{if(l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}}}};if(l.blob){this.blob=function(){var x=f(this);if(x){return x}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else{if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}}}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return f(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(c)}}}this.text=function(){var x=f(this);if(x){return x}if(this._bodyBlob){return d(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(u(this._bodyArrayBuffer))}else{if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}};if(l.formData){this.formData=function(){return this.text().then(n)}}this.json=function(){return this.text().then(JSON.parse)};return this}var t=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(y){var x=y.toUpperCase();return(t.indexOf(x)>-1)?x:y}function r(y,z){z=z||{};var x=z.body;if(y instanceof r){if(y.bodyUsed){throw new TypeError("Already read")}this.url=y.url;this.credentials=y.credentials;if(!z.headers){this.headers=new p(y.headers)}this.method=y.method;this.mode=y.mode;if(!x&&y._bodyInit!=null){x=y._bodyInit;y.bodyUsed=true}}else{this.url=String(y)}this.credentials=z.credentials||this.credentials||"omit";if(z.headers||!this.headers){this.headers=new p(z.headers)}this.method=v(z.method||this.method||"GET");this.mode=z.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&x){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(x)}r.prototype.clone=function(){return new r(this,{body:this._bodyInit})};function n(x){var y=new FormData();x.trim().split("&").forEach(function(z){if(z){var B=z.split("=");var A=B.shift().replace(/+/g," ");var C=B.join("=").replace(/+/g," ");y.append(decodeURIComponent(A),decodeURIComponent(C))}});return y}function w(z){var y=new p();var x=z.replace(/r?n[t ]+/g," ");x.split(/r?n/).forEach(function(A){var D=A.split(":");var B=D.shift().trim();if(B){var C=D.join(":").trim();y.append(B,C)}});return y}q.call(r.prototype);function a(y,x){if(!x){x={}}this.type="default";this.status=x.status===undefined?200:x.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText" in x?x.statusText:"OK";this.headers=new p(x.headers);this.url=x.url||"";this._initBody(y)}q.call(a.prototype);a.prototype.clone=function(){return new a(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})};a.error=function(){var x=new a(null,{status:0,statusText:""});x.type="error";return x};var g=[301,302,303,307,308];a.redirect=function(y,x){if(g.indexOf(x)===-1){throw new RangeError("Invalid status code")}return new a(null,{status:x,headers:{location:y}})};o.Headers=p;o.Request=r;o.Response=a;o.fetch=function(x,y){return new Promise(function(B,A){var z=new r(x,y);var C=new XMLHttpRequest();C.onload=function(){var E={status:C.status,statusText:C.statusText,headers:w(C.getAllResponseHeaders()||"")};E.url="responseURL" in C?C.responseURL:E.headers.get("X-Request-URL");var D="response" in C?C.response:C.responseText;B(new a(D,E))};C.onerror=function(){A(new TypeError("Network request failed"))};C.ontimeout=function(){A(new TypeError("Network request failed"))};C.open(z.method,z.url,true);if(z.credentials==="include"){C.withCredentials=true}else{if(z.credentials==="omit"){C.withCredentials=false}}if("responseType" in C&&l.blob){C.responseType="blob"}z.headers.forEach(function(E,D){C.setRequestHeader(D,E)});C.send(typeof z._bodyInit==="undefined"?null:z._bodyInit)})};o.fetch.polyfill=true})(typeof self!=="undefined"?self:this);